pipeline{
  agent any
  stages {
    stage("Build"){
      steps{
        withMaven(maven : 'apache-maven-3.6.3'){
          sh "mvn clean compile"
        }
      }
    }
  stages {
    stage("Test"){
      steps{
        withMaven(maven : 'apache-maven-3.6.3'){
          sh "mvn test"
        }
      }
    }
  stages {
    stage("Deploy"){
      steps{
        withMaven(maven : 'apache-maven-3.6.3'){
          sh "mvn deploy"
        }
      }
    }
  }
}
